<!DOCTYPE html>
<html lang="ja-JP">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>Nobwak&#39;s Lair  | portsインストール後の注意書きを後で読むには</title>
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">

    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="generator" content="Hugo 0.54.0" />
    
    
      <META NAME="ROBOTS" CONTENT="NOINDEX, NOFOLLOW">
    

    
    
      <link href="/dist/css/app.d98f2eb6bcd1eaedb7edf166bd16af26.css" rel="stylesheet">
    

    

    
      
    

    

    <meta property="og:title" content="portsインストール後の注意書きを後で読むには" />
<meta property="og:description" content="ports/packagesをインストールするといくつかのports/packagesで注意書き（Install Notice）が表示される。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://nobwak.github.io/posts/2009-07-29-ports%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB%E5%BE%8C%E3%81%AE%E6%B3%A8%E6%84%8F%E6%9B%B8%E3%81%8D%E3%82%92%E5%BE%8C%E3%81%A7%E8%AA%AD%E3%82%80%E3%81%AB%E3%81%AF/" />
<meta property="article:published_time" content="2009-07-29T01:00:00&#43;09:00"/>
<meta property="article:modified_time" content="2009-07-29T01:00:00&#43;09:00"/>

<meta itemprop="name" content="portsインストール後の注意書きを後で読むには">
<meta itemprop="description" content="ports/packagesをインストールするといくつかのports/packagesで注意書き（Install Notice）が表示される。">


<meta itemprop="datePublished" content="2009-07-29T01:00:00&#43;09:00" />
<meta itemprop="dateModified" content="2009-07-29T01:00:00&#43;09:00" />
<meta itemprop="wordCount" content="726">



<meta itemprop="keywords" content="" />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="portsインストール後の注意書きを後で読むには"/>
<meta name="twitter:description" content="ports/packagesをインストールするといくつかのports/packagesで注意書き（Install Notice）が表示される。"/>

  </head>

  <body class="ma0 avenir bg-near-white">

    
   
  

  <header>
    <div class="bg-black">
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l justify-between items-center center">
    <a href="https://nobwak.github.io/" class="f3 fw2 hover-white no-underline white-90 dib">
      Nobwak&#39;s Lair
    </a>
    <div class="flex-l items-center">
      

      
      











    </div>
  </div>
</nav>

    </div>
  </header>



    <main class="pb7" role="main">
      
  
  <article class="flex-l flex-wrap justify-between mw8 center ph3">

    <header class="mt4 w-100">
      <p class="f6 b helvetica tracked">
          
        POSTS
      </p>
      <h1 class="f1 athelas mb1">portsインストール後の注意書きを後で読むには</h1>
      
      <time class="f6 mv4 dib tracked" datetime="2009-07-29T01:00:00&#43;09:00">July 29, 2009</time>      
      
      
    </header>

    <section class="nested-copy-line-height lh-copy serif f4 nested-links nested-img mid-gray pr4-l w-two-thirds-l"><pre><code>ports/packagesをインストールするといくつかのports/packagesで注意書き（Install Notice）が表示される。



たまーにクリティカルな注意の場合があるんだが、大量のports（packages）をインストールしているときなど、注意書きもターミナルの表示限界を超えて吹っ飛んでいく。



portmasterなどでインストールしていれば、こういった注意書きを後でまとめて表示してくれるが、後で気がついたところで時すでに遅し。






そこで考えた。



pkg_info -D ＜ports名＞とするとインストール後のメッセージを表示してくれる。こいつにインストールしたports名のリストを与えてやればいいわけだ。



問題は依存も含めてどうやって一覧を作るかだが、pkg_info -r ＜ports名＞でそのportsが依存するportsをリストしてくれる。



xorgを与えてあげると、以下のようになる。
</code></pre>

<pre><code class="language-console">$ pkg_info -r xorg-7.4_2
Information for xorg-7.4_2:
Depends on:
Dependency: xorg-docs-1.4,1
Dependency: xineramaproto-1.1.2
Dependency: xf86vidmodeproto-2.2.2
Dependency: xf86miscproto-0.9.2
Dependency: xf86dgaproto-2.0.3
Dependency: xextproto-7.0.5
Dependency: xbitmaps-1.0.1
</code></pre>

<pre><code>あとはこれを整形してpkg_info -Dに渡せばよい。



もちろん、このリストがそのときにインストールされたportsのリストと一致するとは、必ずしも言えないんだが、そこはそれ。
</code></pre>

<pre><code class="language-console">$ pkg_info -r xorg-7.4_2|cut -f2 -d&amp;#34;:&amp;#34;|xargs -n1 pkg_info -D|less
Information for xorg-docs-1.4,1:
Information for xineramaproto-1.1.2:
（中略）
Information for glib-2.20.4:
Information for gamin-0.1.10_3:
Install notice:
===============================================================================
Gamin will only provide realtime notification of changes for at most n
files,
where n is the minimum value between (kern.maxfiles * 0.7) and
(kern.maxfilesperproc - 200). Beyond that limit, files will be polled.
If you often open several large folders with Nautilus, you might want to
increase the kern.maxfiles tunable (you do not need to set
kern.maxfilesperproc, since it is computed at boot time from
kern.maxfiles).
For a typical desktop, add the following line to /boot/loader.conf, then
reboot the system:
kern.maxfiles=&amp;#34;25000&amp;#34;
（略）
</code></pre>

<pre><code>ほとんどのportsには注意書きがないので、スペースバーを連打することになるが、まあ何度もあることじゃなし。



そのほか、/var/db/pkg配下ファイルの更新日時を使う手も考えたが、findコマンドを使うのが面倒なので止めた。
</code></pre>
<ul class="pa0">
  
</ul>
<div class="mt6">
        
      </div>
    </section>

    <aside class="w-30-l mt6-l">




</aside>

  </article>

    </main>
    <footer class="bg-black bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href="https://nobwak.github.io/" >
    &copy; 2019 Nobwak&#39;s Lair
  </a>
    <div>










</div>
  </div>
</footer>

    

  <script src="/dist/js/app.3fc0f988d21662902933.js"></script>


  </body>
</html>
